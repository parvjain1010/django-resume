{% extends "base.html" %}
{% load staticfiles %}

{% block title %}Edit Fields - Main | Resume+{% endblock title %}

{% block breadcrumb %}
<h4 class="page-title pull-left">Main</h4>
<ul class="breadcrumbs pull-left">
    <li><a href="/">Home</a></li>
    <li><a href="/dashboard">Fields</a></li>
    <li><span>Main</span></li>
</ul>
{% endblock %}

{% block content %}

<div class="col-12 mt-5">

    <div class="alert-items" id="id03">
    {% for message in messages %}
        <div class="alert alert-success" role="alert">
            {{ message }}
        </div>
    {% endfor %}                        
    </div>
    <div class="card">
        <div class="card-body">
            <h4 class="header-title">My Profile</h4>
            <fieldset disabled>
                <div class="form-group">
                    <label for="example-text-input" class="col-form-label">Username</label>
                    <input class="form-control" type="text" value="{{ user.username }}" id="example-text-input">
                </div>
            </fieldset>
            <form action="/editprofile/main/submit" method="POST">
                {% csrf_token %}
                <fieldset id="editable">
                    <div class="form-row">
                        <div class="col-md-5 mb-3">
                            <label for="validationCustom01">First name</label>
                            <input type="text" name="fname" class="form-control" id="validationCustom01" placeholder="First name" value="{{ user.fname }}" required="">
                        </div>
                        <div class="col-md-5 mb-3">
                            <label for="validationCustom02">Last name</label>
                            <input type="text" name="lname" class="form-control" id="validationCustom02" placeholder="Last name" value="{{ user.lname }}" required="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="example-email-input" class="col-form-label">E-mail</label>
                        <input class="form-control" name="Email" type="email" value="{{ user.email }}" id="example-email-input" required>
                    </div>
                    <div class="form-group">
                        <label for="example-tel-input" class="col-form-label">Mobile</label>
                        <input class="form-control" name="mobile" type="tel" value="{{ user.mob }}" id="example-tel-input">
                    </div>
                    <div class="form-group">
                        <label for="example-text-input" class="col-form-label">Linkedin Username</label>
                        <input class="form-control" name="linked" type="text" value="{{ user.link_in }}" placeholder="https://www.linkedin.com/in/" id="example-text-input">
                    </div>
                    <div class="form-group">
                        <label for="example-text-input" class="col-form-label">Github Username</label>
                        <input class="form-control" name="git" type="text" value="{{ user.github }}" placeholder="https://www.github.com/" id="example-text-input">
                    </div>
                    <div class="form-group">
                        <label for="example-text-input" class="col-form-label">Languages</label>
                        <input class="form-control" name="lang" type="text" value="{{ user.lang }}" id="example-text-input">
                    </div>
                </fieldset>
                <div class="form-row">
                    <div class="col-md-1 mb-3">
                        <button type="button" id="editbutton" onclick="edittoggle()" class="btn btn-primary mb-3">Edit</button>
                        <button type="submit" id="savebutton" class="btn btn-success mb-3">Save</button>
                    </div>
                    <div class="col-md-1 mb-3">
                        <button type="button" id="cancelbutton" onclick="viewtoggle()" class="btn btn-danger mb-3">Cancel</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<script>
    
document.getElementById('editable').disabled = true;
document.getElementById('savebutton').style.display = "none";
document.getElementById('cancelbutton').style.display = "none";

window.setTimeout(function() {
    document.getElementById('id03').style.display = "none";
}, 10000);

function edittoggle(){

    document.getElementById('editable').disabled = false;
    document.getElementById('editbutton').style.display = "none";
    document.getElementById('savebutton').style.display = "block";
    document.getElementById('cancelbutton').style.display = "block";
}

function viewtoggle(){

    document.getElementById('editable').disabled = true;
    document.getElementById('editbutton').style.display = "block";
    document.getElementById('savebutton').style.display = "none";
    document.getElementById('cancelbutton').style.display = "none";
}
</script>

{% endblock %}